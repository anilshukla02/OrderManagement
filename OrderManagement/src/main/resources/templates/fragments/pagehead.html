<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
	<link rel="stylesheet" type="text/css"
		href="https://cdn.datatables.net/v/bs5/jq-3.6.0/dt-1.13.1/datatables.min.css" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<link rel="stylesheet" th:href="@{/css/userstyle.css}" />
	<style>
		.button {

			border-radius: 8px;
			border: none;
			color: white;
			padding: 1px;
			text-align: center;
			text-decoration: none;
			font-size: 16px;
			margin: 1px .5px;
			cursor: pointer;
			width: 80px;
		}

		.logout {
			background-color: lightcoral;
		}

		.home {
			background-color: #04AA6D;
		}
	</style>

</head>

<body>
<div class="topcontainer">
		<div sec:authorize="isAuthenticated()">
			<table style="width: 100%;clear:both">
				<colgroup>
					<col span="1" style="width: 25%;">
					<col span="1" style="width: 65%;">
					<col span="1" style="width: 10%;">
				</colgroup>
				<!-- Put <thead>, <tbody>, and <tr>'s here! -->
				<tbody>

					<tr style="height:10px;padding:0px; margin:0px;width:10px">
						<td style="text-align:center;color:darkblue">
						<b>
                           <div th:if="${session.containsKey('company')}" th:text="${session.company}"></div>
						</b>
						</td>
						<td style="text-align:right;">
							Welcome <b> <span th:text="${#authentication.getPrincipal().getUname()}"></span> </b>
						</td>
						<td style="text-align:center;">
							<button class="button logout" type="submit" formaction="/api/logout"
								form="logout">Logout</button>
						</td>
					</tr>
					<tr style="height:10px;padding:0px; margin:0px;width:10px">
						<td>
						</td>
						<td style="text-align:right;">
							Language Preference <b> <span id="mylang"
									th:text="${#authentication.getPrincipal().getPreflang()}"></span></b>
						</td>
						<td style="text-align:center;">
							<button class="button home" type="submit" formaction="/api/index" form="home">Home</button>
						</td>
					</tr>

				</tbody>
			</table>
		</div>

	<form method="get" id="logout">
		<input type="hidden" name="logout" value="Logout" />
	</form>
	<form id="home">
		<input type="hidden" name="home" value="Home" />
	</form>
	</div>
</body>

</html>